"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);exports.SopayButton=()=>n.default.createElement("div",{className:"sopayButton"}),exports.useSopayButton=({apiKey:e,langue:n,mode:o,btnTitle:r,amount:s,currency:a,orderId:i,description:c,businessName:u,loadInvoice:l,successUrl:p})=>(t.useEffect((()=>{const t=document.getElementById("SBScript"),d=document.getElementById("SBScript2");if(t&&d)t.setAttribute("data-lang",n),t.setAttribute("data-apikey",e),d.innerHTML=`\n      const options = {\n        btnTitle: '${r}',\n        amount: ${s},\n        currency: "${a}",\n        orderId: "${i}",\n        description: "${c}",\n        businessName: '${u}',\n        loadInvoice: ${l},\n        successUrl: '${p}'\n      };\n\n      function initButton() {\n        return SopayButton.${o}(options)\n        .then((res) => {\n            localStorage.setItem('sopayresult', JSON.stringify(res));\n        })\n        .catch((err) => {\n            localStorage.setItem('sopayresult', JSON.stringify(err));\n        })\n        .finally(initButton);\n      }\n\n      initButton();\n    `;else{const t=document.createElement("script"),d=document.createElement("script");t.id="SBScript",t.type="text/javascript",t.setAttribute("data-lang",n),t.setAttribute("data-apikey",e),t.async=!0,t.src="https://soleaspay.com/webPay/v2/sopayButton.min.js",document.body.appendChild(t),t.onload=()=>{d.id="SBScript2",d.type="text/javascript",d.async=!1,d.innerHTML=`\n      const options = {\n        btnTitle: '${r}',\n        amount: ${s},\n        currency: "${a}",\n        orderId: "${i}",\n        description: "${c}",\n        businessName: '${u}',\n        loadInvoice: ${l},\n        successUrl: '${p}'\n      };\n\n      function initButton() {\n        return SopayButton.${o}(options)\n        .then((res) => {\n            localStorage.setItem('sopayresult', JSON.stringify(res));\n        })\n        .catch((err) => {\n            localStorage.setItem('sopayresult', JSON.stringify(err));\n        })\n        .finally(initButton);\n      }\n\n      initButton();\n    `,document.body.appendChild(d)}}}),[e,n,o,r,s,a,i,c,u,l,p]),new Promise(((t,e)=>{let n=setInterval((()=>{const e=JSON.parse(localStorage.getItem("sopayresult"));null!==e&&(localStorage.removeItem("sopayresult"),clearInterval(n),t(e))}),1e3)})));
